# Application
quarkus.application.name=eventsourcing
quarkus.application.version=1.0.0

# HTTP
quarkus.http.port=8080

# PostgreSQL - Reactive (for Panache)
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=${USER}
quarkus.datasource.reactive.url=postgresql://localhost:5432/devdb
quarkus.datasource.reactive.max-size=50

# PostgreSQL - JDBC (for Flyway migrations)
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/devdb

# Flyway
quarkus.flyway.migrate-at-start=true
quarkus.flyway.locations=db/migration

# Hibernate
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.mapping.format.global=ignore

# OpenAPI / Swagger
quarkus.swagger-ui.always-include=true
quarkus.smallrye-openapi.info-title=Event Sourcing API
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.smallrye-openapi.info-description=CloudEvents-based event sourcing with PostgreSQL aggregation

# Health
quarkus.health.extensions.enabled=true

# Logging
quarkus.log.level=INFO
quarkus.log.category."space.maatini".level=INFO
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] %s%e%n


# Metrics
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true
quarkus.smallrye-metrics.enabled=true

# Configure OIDC / JWT Security
quarkus.oidc.auth-server-url=http://localhost:8081/realms/es-framework
quarkus.oidc.client-id=backend-service
quarkus.oidc.application-type=web-app
quarkus.datasource.password=${PGPASSWORD:devpassword}

# Index the core module and its test-jar so its JAX-RS resources (@Path) and beans are scanned
quarkus.index-dependency.core.group-id=space.maatini
quarkus.index-dependency.core.artifact-id=eventsourcing-core

quarkus.index-dependency.core-tests.group-id=space.maatini
quarkus.index-dependency.core-tests.artifact-id=eventsourcing-core
quarkus.index-dependency.core-tests.classifier=tests
